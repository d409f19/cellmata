world {
  size = 200 [wrap], 200 [wrap]
  tickrate = 5
}

neighbours {
  (-1, 1), (0, 1), (1, 1),
  (-1, 0), (0, 0), (1, 0),
  (-1, -1), (0, -1), (1, -1)
}

state SUCCEPTIBLE (0, 0, 255) {
  if (count(neighbours, INFECTED) >= 1 
      or count(neighbours, NEWLYINFECTED) >= 1)
    become NEWLYINFECTED;
}

state NEWLYINFECTED (255, 0, 0) {
  become INFECTED;
}

state INFECTED (0, 155, 100) {
  if (count(neighbours, SUCCEPTIBLE) >= 8)
    become IMMUNE;
  else
    become SUCCEPTIBLE;
}

state IMMUNE (255, 255, 255) {
}